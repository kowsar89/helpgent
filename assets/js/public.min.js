var V=Object.defineProperty;var g=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var x=(e,t,c)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[t]=c,A=(e,t)=>{for(var c in t||(t={}))D.call(t,c)&&x(e,c,t[c]);if(g)for(var c of g(t))j.call(t,c)&&x(e,c,t[c]);return e};var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var b=(e,t,c)=>new Promise((a,i)=>{var d=s=>{try{u(c.next(s))}catch(p){i(p)}},r=s=>{try{u(c.throw(s))}catch(p){i(p)}},u=s=>s.done?a(s.value):Promise.resolve(s.value).then(d,r);u((c=c.apply(e,t)).next())});import{a as P,c as N,b as _,d as M,u as h,j as n,e as o,f as m,r as v,F as k,g as Y,P as L}from"./vendor.min.js";var he=H(C=>{const W=P.create({baseURL:vmData.apiEndpoint,headers:{"Content-type":"application/json","X-WP-Nonce":vmData.apiNonce}}),E=(e,t,c)=>b(C,null,function*(){if(c.type=="text")return yield W.post("/messages",{name:e,email:t,message_type:"text",message_value:c.text})}),Z={axiosObj:W,sendMessage:E},f={name:"",email:"",data:{},displayChatScreen:!1,chatScreen:"welcome",chatStep:1},y=N("chatBox/send",(e,t)=>b(C,null,function*(){const c=t.getState().data,a=t.getState().name,i=t.getState().email;try{let r=(yield Z.sendMessage(a,i,c)).data;return t.fulfillWithValue(r)}catch(d){let r=d.response.data;return t.rejectWithValue(r)}})),F=_({name:"chatBox",initialState:f,reducers:{toggleDisplayChatScreen(e){e.displayChatScreen=!e.displayChatScreen},chatScreen(e,t){e.chatScreen=t.payload},chatStep(e,t){e.chatStep=t.payload},back(e){e.chatStep>1?e.chatStep-=1:e.chatScreen="welcome"},reset(){return f},resetWithChatScreen(){let e=A({},f);return e.displayChatScreen=!0,e},setContactInfo(e,{payload:t}){e.name=t.name,e.email=t.email},setData(e,t){e.data=t.payload}},extraReducers:e=>{e.addCase(y.pending,t=>{t.chatScreen="sending"}),e.addCase(y.fulfilled,t=>{t.chatScreen="success"}),e.addCase(y.rejected,(t,{payload:c})=>{t.chatScreen="contactForm";let a=c.message;console.log(a)})}}),l=F.actions,z=M({reducer:F.reducer}),J="_avatar_1iq8b_1",Q="_ttt_1iq8b_7";var R={avatar:J,ttt:Q},O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAFVBMVEXFxcX////7+/vv7+/e3t7R0dHJycnl4e1FAAADpUlEQVRo3u2YTVMbMQyG2+bjrndDz2ghPSeZgXPSaTlDoD1ngP//G9ox2ijG63gl57jvAEnI7DOSLMuyvowaNWrUqFGjRmX05+XX778XIb20TP91c3eoJU3XxPSh5qEO9c5MR+GuBjURiMC4AjZtKRZWXtRsTZ/VPjpZe2UwiRZOD6lP9y7WupfVHDxryNSrHw7WRkMFYtQYNmVByR/NNHtePFFOjTm3mLJ6dO2ey0R/R6paJ1sJNRMxE2qcnAqIuzWMwrfybUWVAnlhDReUgUCAvLcGjBNjVGwL2IzOCitzduHEyVjXBta3yLfUySvzZlQgxDJPdd1BYbGzH29bV0ntdxYHa0rkheFJMRdW3ratK71SFHwslocTPThPxtRHGCrFlNEbcQUbWFQyzGLXiQ2IklasW9WWCX9O5MUW1txgl30PcRR9WArrmhHCHhgSdYExiE17e3PMJw6/HD6AIAvZVjcmqhsD67VQJ5amsyPER/xjCZOvO5nmMkubAG8xZHy8hFWFtTnZnc17W8u6JxAklyA2aeFZWNvCgIC00YILbAm9MWCgXmHr7jG5iz6cPearbr5TZPjXlb8nZ9nZ6IjiotVJ9IStqbha1V+u5usEAu0ljHpLOUFL/21byoQAWc1yG6ZyjhV+xucFkpuoN8eE6J7DvHG1h6o9x8X+tmYyFAIlxR81Lj5rVnGlk8/FnPCj/LD3XIuJe8eoI6d2a6wSm3wjhxt7YuW1dHiYAQIWLzcn4e7DNvZqEzMYxyad723lOZpZyQfoEMzbyfkPkHmbVHn3zfYtc/9UPzF4nrlWjAZbQyc/zcEyRYOkBCvbOmzaCSaKF3PX3wPy6dbQ9rJYg9xCbKsTQrW0tRF8LjUab2dPjug/6WZWcz6vhDTCS8vNEemNm09dr3LRtJJ7E+uqsH8samwTbf/o6hsVxdEMcuicENJURikRD/wW/nkcGwI2C2YUOTwkKyaFcVyS/VgVwnWZDNtk3eOo1GLAoKKVJ4cLF9iMXAr+pLOeO1cglRoxCeUh5P5Y5xGdQwzhy9foChjyhXoX7BAKFCbvFBbwQbwwFgkkYSpm/jz7uEJSHQxTVV9tneiFM4Vml3JVLF6IQMkMWY8QXBdObI44alN6suWSYpeGu3tFPoCLDMugAotz63a+1y8WaCQkU6WYyRPRYZFiw4Y/QfNjL4v77cJpZ8dpS1dVvcqsiYPDmvh+lgouFoZ3h1/Jp+vM1vboe6ba17H+AetQVgc5T+AyAAAAAElFTkSuQmCC";function X(){const e=h();function t(c){c.preventDefault(),e(l.toggleDisplayChatScreen())}return n("div",{className:R.avatar,onClick:t,children:n("img",{className:R.ttt,src:O,alt:"Avatar"})})}const U="_main_1yz4z_1",B="_box_1yz4z_10";var w={main:U,box:B};function G(e){const t=h();function c(){t(l.reset())}function a(){e.setDisplayClosePopup(!1)}return n("div",{className:w.main,children:o("div",{className:w.box,children:[n("p",{children:"Are you sure that you want to close? All progress will be lost."}),o("div",{children:[n("button",{onClick:c,children:"Yes I'm Sure"}),n("button",{onClick:a,children:"No"})]})]})})}const T="_container_aud45_1",I="_relative_aud45_10",q="_back_aud45_13",K="_minus_aud45_25",$="_close_aud45_37";var S={container:T,relative:I,back:q,minus:K,close:$};function ee(e){const t=h(),c=m(p=>p.chatScreen),[a,i]=v.exports.useState(!1);function d(){t(l.back())}function r(){t(l.toggleDisplayChatScreen())}function u(){c=="success"?t(l.reset()):i(!0)}let s=n("button",{onClick:d,className:S.back,children:"<<Back"});return(c=="welcome"||c=="success")&&(s=""),o(k,{children:[n("div",{className:S.container,children:o("div",{className:S.relative,children:[s,n("button",{onClick:r,className:S.minus,children:"-"}),n("button",{onClick:u,className:S.close,children:"x"}),e.children]})}),a&&n(G,{setDisplayClosePopup:i})]})}function te(){const e=h();function t(c){e(l.chatScreen(c)),e(l.chatStep(1))}return o("div",{children:[n("div",{children:"Welcome to wpWax, Leave your question below and we'll get back to you asap."}),n("div",{children:"[Video Screen]"}),n("div",{children:"How would you like to chat?"}),o("div",{children:[n("button",{onClick:()=>t("video"),children:"Video"}),n("button",{onClick:()=>t("screenRecord"),children:"Screen Record"}),n("button",{onClick:()=>t("audio"),children:"Voice"}),n("button",{onClick:()=>t("text"),children:"Text"})]}),n("div",{children:"You can practise before sending"}),n("div",{children:"Powered by wpWax"})]})}function ne(){const e=h(),t=v.exports.useRef(),c=v.exports.useRef(),a=m(r=>r.name),i=m(r=>r.email);function d(r){r.preventDefault();const u=t.current.value,s=c.current.value;e(l.setContactInfo({name:u,email:s})),e(y())}return o("div",{children:[n("p",{children:"Before you go, please leave your contact details so that we can get back to you..."}),o("form",{onSubmit:d,children:[n("input",{placeholder:"Your name*",type:"text",defaultValue:a,ref:t,required:!0}),n("input",{placeholder:"Your email*",type:"email",defaultValue:i,ref:c,required:!0}),n("button",{children:"Send"})]})]})}function ce(){return o("div",{children:[n("p",{children:"Sending...."}),n("p",{children:"We are currently sending your response"}),n("p",{children:"Please dont close this page"})]})}function ae(){const e=h();function t(c){c.preventDefault(),e(l.resetWithChatScreen())}return o("div",{children:[n("p",{children:"Submission Success"}),n("button",{onClick:t,children:"Start a new chat"})]})}function re(){return n("div",{children:"Video"})}function oe(){return n("div",{children:"Audio"})}function se(){const e=h(),t=v.exports.useRef();function c(a){a.preventDefault();const i=t.current.value,d={type:"text",text:i};e(l.setData(d)),e(l.chatScreen("contactForm"))}return o("form",{onSubmit:c,children:[n("textarea",{required:!0,maxLength:"1000",row:"5",placeholder:"Type your text...",ref:t}),n("button",{children:"Send"})]})}function ie(){const e=m(c=>c.chatStep);let t="";switch(e){case 1:t=n(se,{});break}return t}function le(){return n("div",{children:"ScreenRecord"})}function de(){const e=m(t=>t.chatScreen);return o(ee,{children:[e=="welcome"&&n(te,{}),e=="video"&&n(re,{}),e=="audio"&&n(oe,{}),e=="text"&&n(ie,{}),e=="screenRecord"&&n(le,{}),e=="contactForm"&&n(ne,{}),e=="sending"&&n(ce,{}),e=="success"&&n(ae,{})]})}function ue(){const e=m(t=>t.displayChatScreen);return o(k,{children:[n(X,{}),e&&n(de,{})]})}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("wpwax-vm-chatbox");if(!e)return;Y(e).render(n(L,{store:z,children:n(ue,{})}))})});export default he();
//# sourceMappingURL=public.min.js.map
